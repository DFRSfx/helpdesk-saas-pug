extends ../layout/layout

block content
  .min-h-screen.flex.items-center.justify-center.bg-gradient-to-br.from-slate-50.to-slate-100.py-12.px-4.sm_px-6.lg_px-8
    .max-w-md.w-full
      // Logo and Header Section
      .text-center(style="margin-bottom: 2.5rem;")
        .inline-flex.items-center.justify-center.mb-4
          img.h-16(src="/img/zolentra_logo.png" alt="Zolentra Logo")
        p.text-slate-600.text-sm Professional Helpdesk Platform

      // Card Container
      .bg-white.rounded-2xl.shadow-xl.p-8.border.border-slate-200
        div
          h2.text-2xl.font-bold.text-slate-900.mb-2
            | Welcome Back
          p.text-slate-600.text-sm(style="margin-bottom: 1rem;")
            | Sign in to access your support dashboard

        form.space-y-6(action="/auth/login" method="POST")
          // Email Field
          .relative
            input#email.floating-input.w-full.px-4.pt-6.pb-2.border-2.border-slate-300.rounded-sm.bg-white.text-gray-900.transition-all.duration-200.outline-none(
              class="focus:border-blue-600"
              name="email"
              type="email"
              autocomplete="email"
              required
              placeholder=" "
            )
            label.floating-label(for="email")
              | Email Address

          // Password Field
          .relative
            input#password.floating-input.w-full.px-4.pt-6.pb-2.pr-12.border-2.border-slate-300.rounded-sm.bg-white.text-gray-900.transition-all.duration-200.outline-none(
              class="focus:border-blue-600"
              name="password"
              type="password"
              autocomplete="current-password"
              required
              placeholder=" "
            )
            label.floating-label(for="password")
              | Password
            button#toggle-password-btn.absolute.flex.items-center.z-20.px-3.cursor-pointer.text-slate-400(
              class="focus:outline-none hover:text-slate-600"
              type="button"
              style="right: 0; top: 50%; transform: translateY(-50%);"
            )
              svg#eye-slash.shrink-0.w-5.h-5(width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round")
                path(d="M9.88 9.88a3 3 0 1 0 4.24 4.24")
                path(d="M10.73 5.08A10.43 10.43 0 0 1 12 5c7 0 10 7 10 7a13.16 13.16 0 0 1-1.67 2.68")
                path(d="M6.61 6.61A13.526 13.526 0 0 0 2 12s3 7 10 7a9.74 9.74 0 0 0 5.39-1.61")
                line(x1="2" x2="22" y1="2" y2="22")
              svg#eye-open.shrink-0.w-5.h-5.hidden(width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round")
                path(d="M2 12s3-7 10-7 10 7 10 7-3 7-10 7-10-7-10-7Z")
                circle(cx="12" cy="12" r="3")

          // Remember Me and Forgot Password
          .flex.items-center.justify-between
            .flex.items-center
              input#remember-me.h-4.w-4.text-blue-600.border-slate-300.rounded(
                class="focus:ring-blue-500"
                name="remember"
                type="checkbox"
              )
              label.ml-2.block.text-sm.text-slate-700(for="remember-me")
                | Remember me
            .text-sm
              a.font-medium.text-blue-600.transition.duration-150(class="hover:text-blue-500" href="#")
                | Forgot password?

          // Submit Button
          div
            button.w-full.flex.justify-center.py-3.px-4.border.border-transparent.text-sm.font-semibold.rounded-lg.text-white.bg-blue-600.shadow-sm.transition.duration-150(
              class="hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500"
              type="submit"
            )
              | Sign In

        // Divider
        .relative.my-6
          .absolute.inset-0.flex.items-center
            .w-full.border-t.border-slate-300
          .relative.flex.justify-center.text-sm
            span.px-4.bg-white.text-slate-500 New to Zolentra?

        // Sign Up Link
        .text-center
          a.font-medium.text-blue-600.text-sm.transition.duration-150(class="hover:text-blue-500" href="/auth/register")
            | Create an account
            svg.inline-block.w-4.h-4.ml-1(xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke="currentColor")
              path(stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 5l7 7-7 7")

  style.
    .floating-input::placeholder {
      color: transparent;
    }

    /* Default label state - centered in input */
    .floating-label {
      position: absolute;
      left: 1rem;
      top: 50%;
      transform: translateY(-50%);
      font-size: 1rem;
      line-height: 1;
      color: #737373;
      font-weight: 500;
      transition: all 0.2s ease;
      pointer-events: none;
    }

    /* Label moves to top when input is focused or has value */
    .floating-input:focus ~ .floating-label,
    .floating-input:not(:placeholder-shown) ~ .floating-label {
      top: 0.375rem;
      transform: translateY(0);
      font-size: 0.75rem;
    }

    /* Blue color when focused */
    .floating-input:focus ~ .floating-label {
      color: #2563eb;
    }

    /* Gray color when has value but not focused */
    .floating-input:not(:focus):not(:placeholder-shown) ~ .floating-label {
      color: #737373;
    }

  script.
    document.addEventListener('DOMContentLoaded', function() {
      const toggleBtn = document.getElementById('toggle-password-btn');
      const passwordInput = document.getElementById('password');
      const eyeSlash = document.getElementById('eye-slash');
      const eyeOpen = document.getElementById('eye-open');

      if (toggleBtn && passwordInput && eyeSlash && eyeOpen) {
        toggleBtn.addEventListener('click', function() {
          // Toggle password visibility
          if (passwordInput.type === 'password') {
            passwordInput.type = 'text';
            eyeSlash.classList.add('hidden');
            eyeOpen.classList.remove('hidden');
          } else {
            passwordInput.type = 'password';
            eyeSlash.classList.remove('hidden');
            eyeOpen.classList.add('hidden');
          }
        });
      }
    });
